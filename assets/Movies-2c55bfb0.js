import{r as o,u as y,a as k,j as t,L as x,g as f}from"./index-c5569596.js";const M="_input_zko35_1",g="_searchButton_zko35_17",j="_li_zko35_55",v="_link_zko35_65",B="_goBack_zko35_99",S="_noMatch_zko35_107",s={input:M,searchButton:g,li:j,link:v,goBack:B,noMatch:S},N=()=>{const[c,l]=o.useState([]),[u,h]=o.useState([]),[m,p]=y(),n=m.get("query"),_=k(),d=e=>{e.preventDefault();const a=e.currentTarget,r=a.elements.query,i=r.value.trim();if(i===""){r.placeholder="Empty search, please type anything";return}p({query:i}),a.reset()};return o.useEffect(()=>{if(n===""||n===null)return;(async()=>{const a=await f(n);l(a.results),h(a.totalResults)})()},[n]),t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:d,children:[t.jsx("input",{className:s.input,type:"text",name:"query",placeholder:"Search..."}),t.jsx("button",{className:s.searchButton,type:"submit",children:"Search"})]}),c.length>0?t.jsx("ul",{className:s.ul,children:c.map(e=>t.jsx("li",{className:s.li,children:t.jsx(x,{className:s.link,to:`/movies/${e.id}`,state:{from:_},children:e.title})},e.id))}):u??t.jsx("div",{className:s.noMatch,children:"We do not have this movie title in our database."})]})};export{N as default};
