import{r as o,u as k,a as d,j as t,L as f,g as x}from"./index-3b7c649a.js";const g="_input_zko35_1",M="_searchButton_zko35_17",j="_li_zko35_55",B="_link_zko35_65",S="_goBack_zko35_99",v="_noMatch_zko35_107",a={input:g,searchButton:M,li:j,link:B,goBack:S,noMatch:v},q=()=>{const[c,u]=o.useState([]),[i,h]=o.useState([]),[m,p]=k(),n=m.get("query"),_=d(),y=e=>{e.preventDefault();const s=e.currentTarget,r=s.elements.query,l=r.value.trim();if(l===""){r.placeholder="Empty search, please type anything";return}p({query:l}),s.reset()};return o.useEffect(()=>{if(n===""||n===null)return;(async()=>{const s=await x(n);u(s.results),h(s.totalResults)})()},[n]),t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:y,children:[t.jsx("input",{className:a.input,type:"text",name:"query",placeholder:"Search..."}),t.jsx("button",{className:a.searchButton,type:"submit",children:"Search"})]}),c.length>0?t.jsx("ul",{className:a.ul,children:c.map(e=>t.jsx("li",{className:a.li,children:t.jsx(f,{className:a.link,to:`/movies/${e.id}`,state:{from:_},children:e.title})},e.id))}):i===0]})};export{q as default};
